openapi: 3.0.1
info:
  title: Financial Dash
  version: 0.0.1
components:
  securitySchemes:
    Jwt:
      type: http
      scheme: bearer
      bearerFormat: jwt
  schemas:
    InvoiceResponse:
      type: object
      required: [clientId, amount, id]
      properties:
        clientId:
          type: string
        amount:
          type: number
        id:
          type: string
    PartialInvoiceRequest:
      type: object
      properties:
        clientId:
          type: string
        amount:
          type: number
    CreateInvoiceRequest:
      allOf:
        - $ref: "#/components/schemas/PartialInvoiceRequest"
        - type: object
          required: [clientId, amount]
    CreateInvoiceResponse:
      type: object
      required: [data]
      properties:
        data:
          type: object
          required: [id]
          properties:
            id:
              type: string
    CreatePaymentRequest:
      type: object
      required: [client_id, amount, transaction_reference, invoice_id]
      properties:
        client_id:
          type: string
        amount:
          type: number
        transaction_reference:
          type: string
        invoice_id:
          type: string
    CreatePaymentResponse:
      type: object
      required: [payment_id]
      properties:
        payment_id:
          type: string
security:
  - Jwt: []
servers:
  - url: https://financial-dash.vercel.app
paths:
  /api/payment:
    post:
      operationId: createPayment
      tags: [payment]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreatePaymentRequest"
      responses:
        default:
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreatePaymentResponse"
  /api/invoice:
    post:
      operationId: createInvoice
      tags: [invoice]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateInvoiceRequest"
      responses:
        default:
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateInvoiceResponse"
  /api/invoice/{invoiceId}:
    parameters:
      - name: invoiceId
        in: path
        required: true
        schema:
          type: string
    get:
      operationId: getInvoice
      tags: [invoice]
      responses:
        default:
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvoiceResponse"
    put:
      operationId: updateInvoice
      tags: [invoice]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PartialInvoiceRequest"
      responses:
        default:
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateInvoiceResponse"
